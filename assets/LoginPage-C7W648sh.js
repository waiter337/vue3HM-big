import{b as O,d as $,u as L,c as _,p as G,o as b,a as x,w as t,r as U,n as B,e as d,f as P,g as K,_ as F,h as T,i as v,m as w,j as J,k as R,l as H,q as V,s as Q,t as W,v as X,x as s,y as m,z as S,A as Y,E as q,B as Z,C as I,D as k,F as ee,G as se}from"./index-B3MXJUb1.js";import{E as te,a as ae,b as le}from"./el-message-CPwF3GbP.js";import{E as oe}from"./el-link-BGo6ZR7H.js";import{E as re,a as ne}from"./el-input-D_DKptA2.js";import{_ as ue}from"./plugin-vueexport-helper-DlAUqK2U.js";const A=Symbol("rowContextKey"),pe=["start","center","end","space-around","space-between","space-evenly"],de=["top","middle","bottom"],ce=O({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:pe,default:"start"},align:{type:String,values:de}}),ie=$({name:"ElRow"}),fe=$({...ie,props:ce,setup(c){const o=c,n=L("row"),e=_(()=>o.gutter);G(A,{gutter:e});const f=_(()=>{const a={};return o.gutter&&(a.marginRight=a.marginLeft=`-${o.gutter/2}px`),a}),g=_(()=>[n.b(),n.is(`justify-${o.justify}`,o.justify!=="start"),n.is(`align-${o.align}`,!!o.align)]);return(a,h)=>(b(),x(K(a.tag),{class:B(d(g)),style:P(d(f))},{default:t(()=>[U(a.$slots,"default")]),_:3},8,["class","style"]))}});var me=F(fe,[["__file","row.vue"]]);const _e=T(me),ge=O({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:v([Number,Object]),default:()=>w({})},sm:{type:v([Number,Object]),default:()=>w({})},md:{type:v([Number,Object]),default:()=>w({})},lg:{type:v([Number,Object]),default:()=>w({})},xl:{type:v([Number,Object]),default:()=>w({})}}),ye=$({name:"ElCol"}),ve=$({...ye,props:ge,setup(c){const o=c,{gutter:n}=J(A,{gutter:_(()=>0)}),e=L("col"),f=_(()=>{const a={};return n.value&&(a.paddingLeft=a.paddingRight=`${n.value/2}px`),a}),g=_(()=>{const a=[];return["span","offset","pull","push"].forEach(r=>{const l=o[r];R(l)&&(r==="span"?a.push(e.b(`${o[r]}`)):l>0&&a.push(e.b(`${r}-${o[r]}`)))}),["xs","sm","md","lg","xl"].forEach(r=>{R(o[r])?a.push(e.b(`${r}-${o[r]}`)):H(o[r])&&Object.entries(o[r]).forEach(([l,i])=>{a.push(l!=="span"?e.b(`${r}-${l}-${i}`):e.b(`${r}-${i}`))})}),n.value&&a.push(e.is("guttered")),[e.b(),a]});return(a,h)=>(b(),x(K(a.tag),{class:B(d(g)),style:P(d(f))},{default:t(()=>[U(a.$slots,"default")]),_:3},8,["class","style"]))}});var we=F(ve,[["__file","col.vue"]]);const be=T(we),D=c=>(ee("data-v-3dbbc152"),c=c(),se(),c),xe=D(()=>S("h1",null,"注册",-1)),he=D(()=>S("h1",null,"登录",-1)),$e={class:"flex"},Ee={__name:"LoginPage",setup(c){const o=V(null),n=V(!1),e=V({username:"aaaqqq111",password:"123123",repassword:"123123"}),f={username:[{required:!0,message:"請輸入用戶名",trigger:"change"},{min:5,max:10,message:"用戶名必須是5-10位字符",trigger:"change"}],password:[{required:!0,message:"請輸入密碼",trigger:"change"},{pattern:/^\S{6,15}$/,message:"密碼必須6~15位 不可用空白",trigger:"change"}],repassword:[{required:!0,message:"請輸入密碼",trigger:"change"},{pattern:/^\S{6,15}$/,message:"密碼必須6~15位 不可用空白",trigger:"change"},{validator:(r,l,i)=>{l!==e.value.password?i(new Error("兩次密碼不一致")):i()}}]},g=async()=>{await o.value.validate(),await Y(e.value),q.success("註冊成功"),n.value=!1},a=Q(),h=W(),C=async()=>{await o.value.validate();const r=await Z(e.value);a.setToken(r.data.token),q.success("登入成功"),h.push("/")};return X(n,()=>{e.value={username:"",password:"",repassword:""}}),(r,l)=>{const i=be,u=te,y=re,N=ne,E=oe,j=ae,M=le,z=_e;return b(),x(z,{class:"login-page"},{default:t(()=>[s(i,{span:12,class:"bg"}),s(i,{span:6,offset:3,class:"form"},{default:t(()=>[n.value?(b(),x(j,{key:0,model:e.value,rules:f,ref_key:"form",ref:o,size:"large",autocomplete:"off"},{default:t(()=>[s(u,null,{default:t(()=>[xe]),_:1}),s(u,{prop:"username"},{default:t(()=>[s(y,{modelValue:e.value.username,"onUpdate:modelValue":l[0]||(l[0]=p=>e.value.username=p),"prefix-icon":d(I),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),s(u,{prop:"password"},{default:t(()=>[s(y,{modelValue:e.value.password,"onUpdate:modelValue":l[1]||(l[1]=p=>e.value.password=p),"prefix-icon":d(k),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),s(u,{prop:"repassword"},{default:t(()=>[s(y,{modelValue:e.value.repassword,"onUpdate:modelValue":l[2]||(l[2]=p=>e.value.repassword=p),"prefix-icon":d(k),type:"password",placeholder:"请输入再次密码"},null,8,["modelValue","prefix-icon"])]),_:1}),s(u,null,{default:t(()=>[s(N,{onClick:g,class:"button",type:"primary","auto-insert-space":""},{default:t(()=>[m(" 注册 ")]),_:1})]),_:1}),s(u,{class:"flex"},{default:t(()=>[s(E,{type:"info",underline:!1,onClick:l[3]||(l[3]=p=>n.value=!1)},{default:t(()=>[m(" ← 返回 ")]),_:1})]),_:1})]),_:1},8,["model"])):(b(),x(j,{key:1,model:e.value,rules:f,ref_key:"form",ref:o,size:"large",autocomplete:"off"},{default:t(()=>[s(u,null,{default:t(()=>[he]),_:1}),s(u,{prop:"username"},{default:t(()=>[s(y,{modelValue:e.value.username,"onUpdate:modelValue":l[4]||(l[4]=p=>e.value.username=p),"prefix-icon":d(I),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),s(u,{prop:"password"},{default:t(()=>[s(y,{modelValue:e.value.password,"onUpdate:modelValue":l[5]||(l[5]=p=>e.value.password=p),name:"password","prefix-icon":d(k),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),s(u,{class:"flex"},{default:t(()=>[S("div",$e,[s(M,null,{default:t(()=>[m("记住我")]),_:1}),s(E,{type:"primary",underline:!1},{default:t(()=>[m("忘记密码？")]),_:1})])]),_:1}),s(u,null,{default:t(()=>[s(N,{onClick:C,class:"button",type:"primary","auto-insert-space":""},{default:t(()=>[m("登录")]),_:1})]),_:1}),s(u,{class:"flex"},{default:t(()=>[s(E,{type:"info",underline:!1,onClick:l[6]||(l[6]=p=>n.value=!0)},{default:t(()=>[m(" 注册 → ")]),_:1})]),_:1})]),_:1},8,["model"]))]),_:1})]),_:1})}}},je=ue(Ee,[["__scopeId","data-v-3dbbc152"]]);export{je as default};
